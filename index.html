<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4×4盤おにぎり</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div id="orientationWarning">
        <div class="orientation-content">
            <h2>画面を縦向きにして下さい</h2>
            <p>このゲームは縦向きでプレイしてください。<br>端末を回転させてお楽しみください。</p>
        </div>
    </div>
    
    <div id="titleScreen">
        <div class="title-content">
            <h1>ようこそ</h1>
            <p>これは4×4盤のオセロです。<br>
            4×4盤では後手が必勝法を持っているため、<br>
            必勝プログラムを作りました。<br>
            あなたが先手、プログラム(おにぎり)が後手です。<br>
            <br>
            楽しんでいただければ幸いです。</p>
            <button id="startGameBtn" class="start-btn">はじめる</button>
        </div>
        <div class="title-credits">
            効果音：効果音ラボ　様
        </div>
        <button id="detailsBtn" class="details-btn">詳細</button>
        <div id="detailsModal">
            <div class="details-modal-content">
                <div class="details-text">このゲームは、学校の研究授業の一環として制作しました。<br>
                研究レポートが出来次第、ここにそのリンクを掲載予定です。</div>
                <button id="detailsCloseBtn" class="details-close-btn">閉じる</button>
            </div>
        </div>
        <div id="titleAudioControls">
            <button id="titleSoundToggle" class="title-audio-btn enabled">🔊</button>
        </div>
    </div>
    
    <div id="gameContainer">
        <div id="ui">
            <div class="ui-top-row">
                <div class="ui-left-section">
                    <div id="scorePanel" class="ui-element">
                        <h3 style="margin: 0 0 12px 0; color: #ffffff; font-size: 1.1em;">4×4盤おにぎり</h3>
                        <div class="score-display">
                            <span class="player-icon black-icon"></span>
                            <span>あなた: <span id="playerScore">2</span></span>
                        </div>
                        <div class="score-display">
                            <span class="player-icon white-icon"></span>
                            <span>おにぎり: <span id="aiScore">2</span></span>
                        </div>
                    </div>

                    <div id="moveHistory" class="ui-element">
                        <h4 style="margin: 0 0 10px 0; color: #ffffff; font-size: 1em;">棋譜</h4>
                        <div id="moveList"></div>
                    </div>
                </div>

                <div id="controls" class="ui-element">
                    <button id="undoBtn" class="btn">待った</button>
                    <button id="resetBtn" class="btn">リセット</button>
                </div>
            </div>
            <div id="audioControlsBottom" class="ui-element">
                <button id="soundToggle" class="audio-btn enabled">🔊</button>
            </div>
        </div>

        <div id="message"></div>
        
        <div id="centerMessage"></div>

        <div id="gameOverModal">
            <div class="modal-content">
                <h2 id="gameResult" class="result-element"></h2>
                <div id="scoreSection" class="result-element" style="margin: 20px 0;">
                    <div class="score-display" style="justify-content: center;">
                        <span class="player-icon black-icon"></span>
                        <span>あなた: <span id="finalPlayerScore">0</span></span>
                    </div>
                    <div class="score-display" style="justify-content: center;">
                        <span class="player-icon white-icon"></span>
                        <span>おにぎり: <span id="finalAiScore">0</span></span>
                    </div>
                </div>
                <button id="restartButton" class="btn result-element" onclick="restartGameFromModal()">もう一度プレイ</button>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="js/audio.js"></script>
    <script src="js/ai.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/game.js"></script>
</body>
</html>
